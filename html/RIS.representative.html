<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>RIS.representative</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library RIS.representative</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab98"></a><h1 class="section">RIS.representative : generic representation of nominal sets.</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="RIS.nominalsetoid.html#"><span class="id" title="library">nominalsetoid</span></a> <a class="idref" href="RIS.bijection.html#"><span class="id" title="library">bijection</span></a> <a class="idref" href="RIS.words.html#"><span class="id" title="library">words</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab99"></a><h1 class="section">Orbits</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="orbits"><span class="id" title="section">orbits</span></a>.<br/>
</div>

<div class="doc">
<a name="lab100"></a><h2 class="section">Definitions</h2>
 We fix for this section a set of atoms <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">atom</span> : <span class="id" title="keyword">Set</span>}{𝐀 : <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#atom"><span class="id" title="variable">atom</span></a>}.<br/>

<br/>
</div>

<div class="doc">
The base type for orbits is as follows: 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="orbit_base"><span class="id" title="definition">orbit_base</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>)).<br/>

<br/>
</div>

<div class="doc">
It naturally forms a nominal set over <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="Nominal_orbit_base"><span class="id" title="instance">Nominal_orbit_base</span></a> : <a class="idref" href="RIS.atoms.html#Nominal"><span class="id" title="class">Nominal</span></a> <a class="idref" href="RIS.representative.html#bf60293fd652e32fd1ee4a4530bf19c0"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#orbit_base"><span class="id" title="definition">orbit_base</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RIS.atoms.html#Nominal_Pair"><span class="id" title="instance">Nominal_Pair</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>))).<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span> is a list of lists atoms, <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> is a partition of <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span> if 
<ul class="doclist">
<li> the lists appearing in <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span> are exactly the lists appearing inside some <span class="inlinecode"><a class="idref" href="RIS.tools.html#c"><span class="id" title="variable">c</span></a></span> <span class="inlinecode">∈</span> <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span>, i.e.: <span class="inlinecode">{<a class="idref" href="RIS.tools.html#m"><span class="id" title="variable">m</span></a>|<a class="idref" href="RIS.tools.html#m"><span class="id" title="variable">m</span></a>∈<a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a>}={<a class="idref" href="RIS.tools.html#m"><span class="id" title="variable">m</span></a>|∃<a class="idref" href="RIS.tools.html#c"><span class="id" title="variable">c</span></a>∈<a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a>:</span> <span class="inlinecode"><a class="idref" href="RIS.tools.html#m"><span class="id" title="variable">m</span></a>∈<a class="idref" href="RIS.tools.html#c"><span class="id" title="variable">c</span></a>}</span>;

</li>
<li> and the lists appearing in <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> are pairwise disjoint, meaning that if <span class="inlinecode"><a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a></span> are in <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> and there exists a list <span class="inlinecode"><a class="idref" href="RIS.tools.html#l"><span class="id" title="variable">l</span></a></span> appearing both in <span class="inlinecode"><a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a></span>, then <span class="inlinecode"><a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a></span> must contain exactly the same elements.

</li>
</ul>
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="partition"><span class="id" title="definition">partition</span></a> <span class="id" title="var">E</span> (<span class="id" title="var">A</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">m</span>, <a class="idref" href="RIS.representative.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span>, <a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a> <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">≈</span></a> <a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
This property is decidable, and may be checked by the following boolean function. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="partitionb"><span class="id" title="definition">partitionb</span></a> <span class="id" title="var">E</span> (<span class="id" title="var">A</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.tools.html#equivalentb"><span class="id" title="definition">equivalentb</span></a> <a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#concat"><span class="id" title="definition">concat</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">c1</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">c2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.tools.html#equivalentb"><span class="id" title="definition">equivalentb</span></a> <a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a> <a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="RIS.tools.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="RIS.representative.html#c2"><span class="id" title="variable">c2</span></a>))<a class="idref" href="RIS.representative.html#c1"><span class="id" title="variable">c1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="partitionb_spec"><span class="id" title="lemma">partitionb_spec</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> : <a class="idref" href="RIS.representative.html#partitionb"><span class="id" title="definition">partitionb</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
</div>

<div class="doc">
A pair <span class="inlinecode"><a class="idref" href="RIS.tools.html#l"><span class="id" title="variable">l</span></a>,<a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> of the orbit base type is an <i>orbit</i> if:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="RIS.tools.html#l"><span class="id" title="variable">l</span></a></span> is duplication-free;

</li>
<li> and <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> is a partition of the shuffles of <span class="inlinecode"><a class="idref" href="RIS.tools.html#l"><span class="id" title="variable">l</span></a></span>.

</li>
</ul>
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_orbit"><span class="id" title="definition">is_orbit</span></a> (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit_base"><span class="id" title="definition">orbit_base</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#partition"><span class="id" title="definition">partition</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) (<a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
</div>

<div class="doc">
This property is decidable. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="is_orbitb"><span class="id" title="definition">is_orbitb</span></a> (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit_base"><span class="id" title="definition">orbit_base</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.tools.html#NoDupb"><span class="id" title="definition">NoDupb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="RIS.representative.html#partitionb"><span class="id" title="definition">partitionb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) (<a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_orbitb_spec"><span class="id" title="lemma">is_orbitb_spec</span></a> <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#is_orbitb"><span class="id" title="definition">is_orbitb</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#is_orbit"><span class="id" title="definition">is_orbit</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can use set comprehension to define the type of orbits. Formally, <span class="inlinecode"><a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a></span> is a sigma-type, meaning its elements are pairs <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>,<a class="idref" href="RIS.tools.html#P"><span class="id" title="variable">P</span></a></span>, where <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> has the orbit base type and <span class="inlinecode"><a class="idref" href="RIS.tools.html#P"><span class="id" title="variable">P</span></a></span> is a proof that <span class="inlinecode"><a class="idref" href="RIS.representative.html#is_orbitb"><span class="id" title="definition">is_orbitb</span></a></span> <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>=<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a></span>. Since we the latter is a boolean property, proof irrelevance holds, meaning that <span class="inlinecode">(<a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>,<a class="idref" href="RIS.tools.html#P"><span class="id" title="variable">P</span></a>)=(<span class="id" title="var">o'</span>,<span class="id" title="var">P'</span>)</span> if and only if <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>=<span class="id" title="var">o'</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="orbit"><span class="id" title="definition">orbit</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">{</span></a> <span class="id" title="var">o</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">:</span></a> <a class="idref" href="RIS.representative.html#orbit_base"><span class="id" title="definition">orbit_base</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">|</span></a> <a class="idref" href="RIS.representative.html#is_orbitb"><span class="id" title="definition">is_orbitb</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#72ca3fac4636a1b19c963b12162882cf"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="orbit_eq"><span class="id" title="lemma">orbit_eq</span></a> (<span class="id" title="var">o1</span> <span class="id" title="var">o2</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a>) : <a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>=((<a class="idref" href="RIS.tools.html#l"><span class="id" title="variable">l</span></a>,<a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a>),<a class="idref" href="RIS.tools.html#P"><span class="id" title="variable">P</span></a>)</span> is an orbit, we will call <span class="inlinecode"><a class="idref" href="RIS.tools.html#l"><span class="id" title="variable">l</span></a></span> the <i>index</i> of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>, and <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> the <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a></span> associated with <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="index"><span class="id" title="abbreviation">index</span></a> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> ⇒<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="rel"><span class="id" title="abbreviation">rel</span></a> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
</div>

<div class="doc">
When <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> is an orbit, we may see its relation as binary relation between lists of atoms. <span class="inlinecode"><a class="idref" href="RIS.tools.html#l1"><span class="id" title="variable">l1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#l2"><span class="id" title="variable">l2</span></a></span> are said to be equivalent according to <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> if both <span class="inlinecode"><a class="idref" href="RIS.tools.html#l1"><span class="id" title="variable">l1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#l2"><span class="id" title="variable">l2</span></a></span> appear in some <span class="inlinecode"><a class="idref" href="RIS.tools.html#c"><span class="id" title="variable">c</span></a></span> in <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>'s relation. <i>Notice that despite it being called an equivalence, this relation is not actually reflexive, as lists that are not mentioned in <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>'s relation are not related to anybody, including themselves</i>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eq_lists"><span class="id" title="definition">eq_lists</span></a> (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> ⇒ (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#rel"><span class="id" title="abbreviation">rel</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">&quot;</span></a> l1 ={ o }= l2" := (<a class="idref" href="RIS.representative.html#eq_lists"><span class="id" title="definition">eq_lists</span></a> <span class="id" title="var">o</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
</div>

<div class="doc">
This relation is decidable. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eq_listsb"><span class="id" title="definition">eq_listsb</span></a> (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a>) (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbits.atom"><span class="id" title="variable">atom</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="RIS.tools.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="RIS.tools.html#inb"><span class="id" title="definition">inb</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="RIS.representative.html#c"><span class="id" title="variable">c</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>))).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_listsb_spec"><span class="id" title="lemma">eq_listsb_spec</span></a> <span class="id" title="var">o</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="RIS.representative.html#eq_listsb"><span class="id" title="definition">eq_listsb</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a>.<br/>

<br/>
</div>

<div class="doc">
We finally define the equivalence of orbits by stating that <span class="inlinecode"><a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a></span> <span class="inlinecode">≃</span> <span class="inlinecode"><a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a></span> when:
<ul class="doclist">
<li> the relations <span class="inlinecode">={<a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a>}=</span> and <span class="inlinecode">={<a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>}=</span> coincide;

</li>
<li> and the index of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a></span> is related to the index of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a></span> by the relation of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a></span>.

</li>
</ul>
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="equiv_orbits"><span class="id" title="instance">equiv_orbits</span></a> : <a class="idref" href="RIS.tools.html#SemEquiv"><span class="id" title="class">SemEquiv</span></a> <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>, <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab101"></a><h2 class="section">Properties of orbits' relations</h2>

<div class="paragraph"> </div>

 Whenever <span class="inlinecode"><a class="idref" href="RIS.tools.html#l1"><span class="id" title="variable">l1</span></a>={<a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>}=<a class="idref" href="RIS.tools.html#l2"><span class="id" title="variable">l2</span></a></span>, <span class="inlinecode"><a class="idref" href="RIS.tools.html#l1"><span class="id" title="variable">l1</span></a></span> must be a shuffle of the index of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_lists_shuffle"><span class="id" title="lemma">eq_lists_shuffle</span></a> <span class="id" title="var">o</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>).<br/>

<br/>
</div>

<div class="doc">
The index of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> is related to itself in <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>'s relation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_lists_fst"><span class="id" title="lemma">eq_lists_fst</span></a> <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>.<br/>

<br/>
</div>

<div class="doc">
Furthermore, every shuffle of the index of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> is related to itself in <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>'s relation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_lists_refl"><span class="id" title="lemma">eq_lists_refl</span></a> <span class="id" title="var">o</span> <span class="id" title="var">l</span> : <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.representative.html#c5b71b1ff98eeaf5c61012a1ab7361e1"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
The relation of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> is transitive and symmetric. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="eq_lists_trans"><span class="id" title="instance">eq_lists_trans</span></a> <span class="id" title="var">o</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="RIS.representative.html#eq_lists"><span class="id" title="definition">eq_lists</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="eq_lists_symmetric"><span class="id" title="instance">eq_lists_symmetric</span></a> <span class="id" title="var">o</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="RIS.representative.html#eq_lists"><span class="id" title="definition">eq_lists</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>).<br/>

<br/>
</div>

<div class="doc">
From these we can prove that the equivalence of orbits is indeed an equivalence relation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="equiv_orbits_Equivalence"><span class="id" title="instance">equiv_orbits_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (@<a class="idref" href="RIS.tools.html#sequiv"><span class="id" title="definition">sequiv</span></a> <span class="id" title="var">_</span> <a class="idref" href="RIS.representative.html#equiv_orbits"><span class="id" title="instance">equiv_orbits</span></a>).<br/>

<br/>
</div>

<div class="doc">
The equivalence of orbits is a decidable relation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="equiv_orbitsb"><span class="id" title="definition">equiv_orbitsb</span></a> (<span class="id" title="var">o1</span> <span class="id" title="var">o2</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l1</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#forallb"><span class="id" title="definition">forallb</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l2</span> ⇒ <a class="idref" href="RIS.representative.html#eq_listsb"><span class="id" title="definition">eq_listsb</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="RIS.tools.html#f62e571aaf06e485801e62a5c9bd7232"><span class="id" title="notation">=?=</span></a> <a class="idref" href="RIS.representative.html#eq_listsb"><span class="id" title="definition">eq_listsb</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="RIS.representative.html#eq_listsb"><span class="id" title="definition">eq_listsb</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a>) (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="equiv_orbitsb_eq_shuffle"><span class="id" title="lemma">equiv_orbitsb_eq_shuffle</span></a> <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RIS.representative.html#equiv_orbitsb"><span class="id" title="definition">equiv_orbitsb</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a>) <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">≈</span></a> <a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="equiv_orbitsb_spec"><span class="id" title="lemma">equiv_orbitsb_spec</span></a> <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> : <a class="idref" href="RIS.representative.html#equiv_orbitsb"><span class="id" title="definition">equiv_orbitsb</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab102"></a><h2 class="section">Nominal setoid structure.</h2>
 If <span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> is a partition of <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span>, then <span class="inlinecode">π∙<a class="idref" href="RIS.completenessKA.html#E"><span class="id" title="abbreviation">E</span></a></span> is a partition of <span class="inlinecode">π∙<a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="partition_act"><span class="id" title="lemma">partition_act</span></a> (π : <a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a>) <span class="id" title="var">E</span> <span class="id" title="var">A</span> : <a class="idref" href="RIS.representative.html#partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#partition"><span class="id" title="definition">partition</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> is an orbit, so is <span class="inlinecode">π∙<a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_orbit_act"><span class="id" title="lemma">is_orbit_act</span></a> (π : <a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a>) <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#is_orbit"><span class="id" title="definition">is_orbit</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#is_orbit"><span class="id" title="definition">is_orbit</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_orbitb_act"><span class="id" title="lemma">is_orbitb_act</span></a> (π : <a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a>) (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a>) : <a class="idref" href="RIS.representative.html#is_orbitb"><span class="id" title="definition">is_orbitb</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙(</span></a><a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
</div>

<div class="doc">
This means that we may lift the action from the base type of orbits to the type of orbits. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ActOrb"><span class="id" title="instance">ActOrb</span></a> : <a class="idref" href="RIS.nominalsetoid.html#ActionSetoid"><span class="id" title="class">ActionSetoid</span></a> <span class="id" title="var">_</span> <a class="idref" href="RIS.representative.html#bf60293fd652e32fd1ee4a4530bf19c0"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> <span class="id" title="var">o</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a>) (<a class="idref" href="RIS.representative.html#is_orbitb_act"><span class="id" title="lemma">is_orbitb_act</span></a> <a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
</div>

<div class="doc">
We define the support of an orbit to be its index. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="SuppOrbit"><span class="id" title="instance">SuppOrbit</span></a> : <a class="idref" href="RIS.nominalsetoid.html#SupportSetoid"><span class="id" title="class">SupportSetoid</span></a> <span class="id" title="var">_</span> <a class="idref" href="RIS.representative.html#bf60293fd652e32fd1ee4a4530bf19c0"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> ⇒ <a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>.<br/>

<br/>
</div>

<div class="doc">
This structure satisfies the axioms of nominal setoids over <span class="inlinecode">𝐀</span>.
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="NomOrbit"><span class="id" title="instance">NomOrbit</span></a> : <a class="idref" href="RIS.nominalsetoid.html#NominalSetoid"><span class="id" title="class">NominalSetoid</span></a> <a class="idref" href="RIS.representative.html#bf60293fd652e32fd1ee4a4530bf19c0"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RIS.representative.html#orbits"><span class="id" title="section">orbits</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="index"><span class="id" title="abbreviation">index</span></a> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <span class="id" title="var">_</span> ⇒<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="rel"><span class="id" title="abbreviation">rel</span></a> := (<span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="RIS.tools.html#8a6354b4c7c05b0e25c73aab15cce849"><span class="id" title="notation">$</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="e675801fee40d38319e3adc56a40707d"><span class="id" title="notation">&quot;</span></a> l1 ={ o }= l2" := (<a class="idref" href="RIS.representative.html#eq_lists"><span class="id" title="definition">eq_lists</span></a> <span class="id" title="var">o</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
</div>

<div class="doc">
<a name="lab103"></a><h1 class="section">Lifting injections between sets of atoms as injective morphisms between sets of orbits.</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="eta"><span class="id" title="section">eta</span></a>.<br/>
</div>

<div class="doc">
In this section, we fix two sets of atoms <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#B"><span class="id" title="variable">B</span></a></span>, and an injective function <span class="inlinecode"><a class="idref" href="RIS.tools.html#f"><span class="id" title="variable">f</span></a>:<a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a>→<a class="idref" href="RIS.tools.html#B"><span class="id" title="variable">B</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <span class="id" title="keyword">Set</span>} {𝐀: <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#A"><span class="id" title="variable">A</span></a>} {𝐁 : <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#B"><span class="id" title="variable">B</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">f</span> : <a class="idref" href="RIS.representative.html#eta.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#eta.B"><span class="id" title="variable">B</span></a>} {<span class="id" title="var">inj</span> : <a class="idref" href="RIS.tools.html#injective"><span class="id" title="class">injective</span></a> <a class="idref" href="RIS.representative.html#f"><span class="id" title="variable">f</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Given a permutation <span class="inlinecode">π</span> over <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span>, we can define a permutation <span class="inlinecode">⦅π⦆</span> over <span class="inlinecode"><a class="idref" href="RIS.tools.html#B"><span class="id" title="variable">B</span></a></span> by applying <span class="inlinecode"><a class="idref" href="RIS.tools.html#f"><span class="id" title="variable">f</span></a></span> to every atom appearing in <span class="inlinecode">π</span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lift"><span class="id" title="definition">lift</span></a> : @<a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a> <a class="idref" href="RIS.representative.html#eta.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> @<a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a> <a class="idref" href="RIS.representative.html#eta.B"><span class="id" title="variable">B</span></a> <span class="id" title="var">_</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">&quot;</span></a> ⦅ p ⦆ " := (<a class="idref" href="RIS.representative.html#lift"><span class="id" title="definition">lift</span></a> <span class="id" title="var">p</span>).<br/>

<br/>
</div>

<div class="doc">
This lifting satisfies the following identity. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lift_f"><span class="id" title="lemma">lift_f</span></a> π <span class="id" title="var">a</span> : <a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦆</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RIS.representative.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
</div>

<div class="doc">
It preserves permutation equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="lift_equiv"><span class="id" title="instance">lift_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="RIS.tools.html#sequiv"><span class="id" title="definition">sequiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="RIS.tools.html#sequiv"><span class="id" title="definition">sequiv</span></a>) <a class="idref" href="RIS.representative.html#lift"><span class="id" title="definition">lift</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lifting commutes with taking the inverse of a permutation. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lift_perm_inverse"><span class="id" title="lemma">lift_perm_inverse</span></a> π : <a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦆</span></a><a class="idref" href="RIS.atoms.html#e0f1e9c8ae5616f1de373d88e8aa4999"><span class="id" title="notation">∗</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#e0f1e9c8ae5616f1de373d88e8aa4999"><span class="id" title="notation">∗</span></a><a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦆</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
We can lift an orbit over <span class="inlinecode"><a class="idref" href="RIS.tools.html#A"><span class="id" title="variable">A</span></a></span> into an orbit over <span class="inlinecode"><a class="idref" href="RIS.tools.html#B"><span class="id" title="variable">B</span></a></span> by applying <span class="inlinecode"><a class="idref" href="RIS.tools.html#f"><span class="id" title="variable">f</span></a></span> pointwise. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="inject_aux"><span class="id" title="definition">inject_aux</span></a> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#feae6b30afd1b138b1c06a02635da43e"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#orbit_base"><span class="id" title="definition">orbit_base</span></a> <a class="idref" href="RIS.representative.html#eta.B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a> (<a class="idref" href="RIS.representative.html#index"><span class="id" title="abbreviation">index</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a>)) (<a class="idref" href="RIS.representative.html#rel"><span class="id" title="abbreviation">rel</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
This function indeed produces a valid orbit. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="inject_orbit"><span class="id" title="lemma">inject_orbit</span></a> (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#feae6b30afd1b138b1c06a02635da43e"><span class="id" title="variable">𝐀</span></a>) : <a class="idref" href="RIS.representative.html#is_orbit"><span class="id" title="definition">is_orbit</span></a> (<a class="idref" href="RIS.representative.html#inject_aux"><span class="id" title="definition">inject_aux</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="inject_orbitb"><span class="id" title="lemma">inject_orbitb</span></a> (<span class="id" title="var">o</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#feae6b30afd1b138b1c06a02635da43e"><span class="id" title="variable">𝐀</span></a>) : <a class="idref" href="RIS.representative.html#is_orbitb"><span class="id" title="definition">is_orbitb</span></a> (<a class="idref" href="RIS.representative.html#inject_aux"><span class="id" title="definition">inject_aux</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
We encapsulate this in the following function between sigma-types. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="inject"><span class="id" title="definition">inject</span></a> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#feae6b30afd1b138b1c06a02635da43e"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#1fcdec22b35cc19d992af2e2a6e4d6cd"><span class="id" title="variable">𝐁</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">o</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="RIS.representative.html#inject_aux"><span class="id" title="definition">inject_aux</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) (<a class="idref" href="RIS.representative.html#inject_orbitb"><span class="id" title="lemma">inject_orbitb</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>).<br/>

<br/>
</div>

<div class="doc">
This function is injective up-to equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="inject_injection"><span class="id" title="lemma">inject_injection</span></a> <span class="id" title="var">o1</span> <span class="id" title="var">o2</span> : <a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#o1"><span class="id" title="variable">o1</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#o2"><span class="id" title="variable">o2</span></a>.<br/>

<br/>
</div>

<div class="doc">
The support of the image of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> is the image of the support of <span class="inlinecode"><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a></span> by <span class="inlinecode"><a class="idref" href="RIS.tools.html#f"><span class="id" title="variable">f</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="inject_support"><span class="id" title="lemma">inject_support</span></a> <span class="id" title="var">o</span> : <a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a><a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="RIS.representative.html#eta.f"><span class="id" title="variable">f</span></a> <a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a><a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="RIS.completenessKA.html#inject"><span class="id" title="definition">inject</span></a></span> is an equivariant function. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="inject_equivariant"><span class="id" title="lemma">inject_equivariant</span></a> : <span class="id" title="keyword">∀</span> π <span class="id" title="var">o</span>, <a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">⊙</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a>) <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.representative.html#d9dd4e8c83dbcaf2dd2c1a030454f678"><span class="id" title="notation">⦆</span></a> <a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">⊙</span></a> <a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a> <a class="idref" href="RIS.representative.html#o"><span class="id" title="variable">o</span></a><a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
It preserves equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="inject_equiv"><span class="id" title="lemma">inject_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="RIS.tools.html#sequiv"><span class="id" title="definition">sequiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.Morphisms.html#5bcff5fca4c3a87e683dd8ca07bab63f"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="RIS.tools.html#sequiv"><span class="id" title="definition">sequiv</span></a>) <a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RIS.representative.html#eta"><span class="id" title="section">eta</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab104"></a><h1 class="section">Representation of a nominal set</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="orbitX"><span class="id" title="section">orbitX</span></a>.<br/>
</div>

<div class="doc">
We fix a set of atoms <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span> and an alphabet <span class="inlinecode"><a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span>, that is a decidable set nominal in <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">atom</span> <span class="id" title="var">X</span>: <span class="id" title="keyword">Set</span>}{𝐀 : <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#atom"><span class="id" title="variable">atom</span></a>} {𝐗 : <a class="idref" href="RIS.words.html#Alphabet"><span class="id" title="class">Alphabet</span></a> <a class="idref" href="RIS.representative.html#8641701fafbb6d109185a381b5830e92"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#X"><span class="id" title="variable">X</span></a>}.<br/>
</div>

<div class="doc">
<a name="lab105"></a><h2 class="section">Hypothesis</h2>
 We assume to be given a function <span class="inlinecode">⦃<span class="id" title="var">_</span>⦄</span> from <span class="inlinecode"><a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span> to lists of atoms. We call it the <i>normalised support</i>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="nf_supp"><span class="id" title="axiom">nf_supp</span></a> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="RIS.representative.html#orbitX.atom"><span class="id" title="variable">atom</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">&quot;</span></a> ⦃ x ⦄ " := (<a class="idref" href="RIS.representative.html#nf_supp"><span class="id" title="axiom">nf_supp</span></a> <span class="id" title="var">x</span>).<br/>

<br/>
</div>

<div class="doc">
This function should satisfy the following properties: 
<ul class="doclist">
<li> <span class="inlinecode">⦃<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>⦄</span> is a shuffle of the list <span class="inlinecode">{{⌊<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>⌋}}</span>, meaning it contains exactly the elements of the support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> and it is duplication-free;

</li>
<li> for every <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>∈<a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span> and every permutation <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a></span>, there exists a permutation <span class="inlinecode"><a class="idref" href="RIS.atoms.html#q"><span class="id" title="variable">q</span></a></span> such that
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.atoms.html#q"><span class="id" title="variable">q</span></a></span> produce the same element when applied to <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>, i.e. <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a>∙<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>=<a class="idref" href="RIS.atoms.html#q"><span class="id" title="variable">q</span></a>∙<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>;

</li>
<li> the normalised support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a>∙<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> can be obtained by applying <span class="inlinecode"><a class="idref" href="RIS.atoms.html#q"><span class="id" title="variable">q</span></a></span> to the normalised support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>.

</li>
</ul>

</li>
</ul>
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="nf_supp_shuffle_support"><span class="id" title="axiom">nf_supp_shuffle_support</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>, <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.tools.html#97d4fc09a45292e6e0781158a2094d81"><span class="id" title="notation">∈</span></a> <a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> <a class="idref" href="RIS.tools.html#b7eed6717f16d4f74c0cd5066567c9a1"><span class="id" title="notation">{{</span></a><a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a><a class="idref" href="RIS.tools.html#b7eed6717f16d4f74c0cd5066567c9a1"><span class="id" title="notation">}}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="coherent_support"><span class="id" title="axiom">coherent_support</span></a> : <span class="id" title="keyword">∀</span> (<span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">q</span><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#q"><span class="id" title="variable">q</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="nf_supp_support"><span class="id" title="lemma">nf_supp_support</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>, <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">≈</span></a> <a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="nf_supp_nodup"><span class="id" title="lemma">nf_supp_nodup</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#NoDup"><span class="id" title="inductive">NoDup</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="nf_supp_action"><span class="id" title="lemma">nf_supp_action</span></a> <span class="id" title="var">x</span> π : <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">≈</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a>.<br/>

<br/>
</div>

<div class="doc">
The normalised support function enjoys a form of injectivity: the permutation <span class="inlinecode">π</span> leaves <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> unchanged if and only if the normalised supports of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> and <span class="inlinecode">π∙<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> coincide. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a name="nf_supp_inj"><span class="id" title="lemma">nf_supp_inj</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>) π : <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
The proof of the following proposition relies on lemma <span class="inlinecode"><span class="id" title="var">RIS.atoms.support_eq_action_eq</span></span>, i.e. the fact that for any two permutations <span class="inlinecode">π,π'</span> and any element <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>, if <span class="inlinecode">π∙<a class="idref" href="RIS.tools.html#a"><span class="id" title="variable">a</span></a>=π'∙<a class="idref" href="RIS.tools.html#a"><span class="id" title="variable">a</span></a></span> for every <span class="inlinecode"><a class="idref" href="RIS.tools.html#a"><span class="id" title="variable">a</span></a></span> in the support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>, then <span class="inlinecode">π∙<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>=π'∙<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Proposition</span> <a name="act_make_perm"><span class="id" title="lemma">act_make_perm</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>) π : <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.bijection.html#7a5eceacc772947db2f94f4f4262a6bb"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab106"></a><h2 class="section">Group-theoretic orbits</h2>
 <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#y"><span class="id" title="variable">y</span></a></span> are said to be <i>in the same orbit</i> if there is a permutation sending <span class="inlinecode"><a class="idref" href="RIS.tools.html#y"><span class="id" title="variable">y</span></a></span> to <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="same_orbit"><span class="id" title="definition">same_orbit</span></a> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> π<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
The relation "being in the same orbit" is an equivalence. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="same_orbit_Equivalence"><span class="id" title="instance">same_orbit_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="RIS.representative.html#same_orbit"><span class="id" title="definition">same_orbit</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#y"><span class="id" title="variable">y</span></a></span> are in the same orbit, then we may build a witnessing permutation by simply taking <span class="inlinecode">⦃<a class="idref" href="RIS.tools.html#y"><span class="id" title="variable">y</span></a>⦄</span> <span class="inlinecode">&gt;&gt;</span> <span class="inlinecode">⦃<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>⦄</span>. The converse holds trivially. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="same_orbit_get_perm"><span class="id" title="lemma">same_orbit_get_perm</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RIS.representative.html#same_orbit"><span class="id" title="definition">same_orbit</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.bijection.html#7a5eceacc772947db2f94f4f4262a6bb"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
Using this last result, we can build the following boolean function to check whether two elements are in the same orbit. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="same_orbitb"><span class="id" title="definition">same_orbitb</span></a> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>) := <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.tools.html#f62e571aaf06e485801e62a5c9bd7232"><span class="id" title="notation">=?=</span></a> <a class="idref" href="RIS.tools.html#f62e571aaf06e485801e62a5c9bd7232"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.bijection.html#7a5eceacc772947db2f94f4f4262a6bb"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="RIS.tools.html#f62e571aaf06e485801e62a5c9bd7232"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="same_orbitb_spec"><span class="id" title="lemma">same_orbitb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="RIS.representative.html#same_orbitb"><span class="id" title="definition">same_orbitb</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="RIS.representative.html#same_orbit"><span class="id" title="definition">same_orbit</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<a name="lab107"></a><h2 class="section">Representation</h2>
 We can now map <span class="inlinecode"><a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span> into a set of orbits. First we define the function <span class="inlinecode"><a class="idref" href="RIS.representative.html#orbitX_aux"><span class="id" title="definition">orbitX_aux</span></a></span> sending elements of <span class="inlinecode"><a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span> to the base type of orbits. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="orbitX_aux"><span class="id" title="definition">orbitX_aux</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX.X"><span class="id" title="variable">X</span></a>) : <a class="idref" href="RIS.representative.html#orbit_base"><span class="id" title="definition">orbit_base</span></a> <a class="idref" href="RIS.representative.html#orbitX.atom"><span class="id" title="variable">atom</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="RIS.tools.html#group_by_fst"><span class="id" title="definition">group_by_fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.bijection.html#7a5eceacc772947db2f94f4f4262a6bb"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="RIS.representative.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) (<a class="idref" href="RIS.tools.html#shuffles"><span class="id" title="definition">shuffles</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
We then proceed to show that for any <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> to the pair produced by <span class="inlinecode"><a class="idref" href="RIS.representative.html#orbitX_aux"><span class="id" title="definition">orbitX_aux</span></a></span> <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> is indeed an orbit. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="is_orbit_orbitX"><span class="id" title="lemma">is_orbit_orbitX</span></a> <span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#is_orbit"><span class="id" title="definition">is_orbit</span></a> (<a class="idref" href="RIS.representative.html#orbitX_aux"><span class="id" title="definition">orbitX_aux</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a name="is_orbitb_orbitX"><span class="id" title="lemma">is_orbitb_orbitX</span></a> <span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#is_orbitb"><span class="id" title="definition">is_orbitb</span></a> (<a class="idref" href="RIS.representative.html#orbitX_aux"><span class="id" title="definition">orbitX_aux</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
Finally, we use these to build a valid orbit from any <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="orbitX"><span class="id" title="definition">orbitX</span></a> <span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#c82deb7531a956a68972c62c9d486ec8"><span class="id" title="variable">𝐀</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="RIS.representative.html#orbitX_aux"><span class="id" title="definition">orbitX_aux</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="RIS.representative.html#is_orbitb_orbitX"><span class="id" title="lemma">is_orbitb_orbitX</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
</div>

<div class="doc">
This function satisfies the same kind of injectivity as normalised supports. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="orbitX_inj"><span class="id" title="lemma">orbitX_inj</span></a> <span class="id" title="var">x</span> π : <a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
</div>

<div class="doc">
The following observation will be useful later on: two lists <span class="inlinecode"><a class="idref" href="RIS.tools.html#l1"><span class="id" title="variable">l1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#l2"><span class="id" title="variable">l2</span></a></span> are equivalent according to <span class="inlinecode"><a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a></span> <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> if and only if there are two permutations <span class="inlinecode"><a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.representative.html#p2"><span class="id" title="variable">p2</span></a></span> such that:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a></span> sends elements of the support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> to elements of the support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>;

</li>
<li> the actions of <span class="inlinecode"><a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a></span> and <span class="inlinecode"><a class="idref" href="RIS.representative.html#p2"><span class="id" title="variable">p2</span></a></span> on <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> coincide;

</li>
<li> <span class="inlinecode"><a class="idref" href="RIS.tools.html#l1"><span class="id" title="variable">l1</span></a></span> is <span class="inlinecode"><a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a>∙⦃<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>⦄</span> and <span class="inlinecode"><a class="idref" href="RIS.tools.html#l2"><span class="id" title="variable">l2</span></a></span> is <span class="inlinecode"><a class="idref" href="RIS.representative.html#p2"><span class="id" title="variable">p2</span></a>∙⦃<a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>⦄</span>. 

</li>
</ul>
   
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="eq_lists_orbitX"><span class="id" title="lemma">eq_lists_orbitX</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="RIS.representative.html#e675801fee40d38319e3adc56a40707d"><span class="id" title="notation">={</span></a><a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#e675801fee40d38319e3adc56a40707d"><span class="id" title="notation">}=</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> : <a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">≈</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#p2"><span class="id" title="variable">p2</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="RIS.representative.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦃</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.representative.html#71129e7e35a8e103e38e3eebd2aff077"><span class="id" title="notation">⦄</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#l2"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a></span> is an equivariant function. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="orbitX_perm"><span class="id" title="lemma">orbitX_perm</span></a> π <span class="id" title="var">x</span> : <a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a> (<a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">⊙</span></a> <a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="section">orbitX</span></a>.<br/>
</div>

<div class="doc">
<a name="lab108"></a><h1 class="section">Pointers</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="pointers"><span class="id" title="section">pointers</span></a>.<br/>
</div>

<div class="doc">
We fix a set of atoms <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">atom</span>: <span class="id" title="keyword">Set</span>}{𝐀 : <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#atom"><span class="id" title="variable">atom</span></a>}.<br/>

<br/>
</div>

<div class="doc">
A pointer over <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span> is either a free name <span class="inlinecode"><a class="idref" href="RIS.tools.html#a"><span class="id" title="variable">a</span></a>!</span> or a natural number <span class="inlinecode"><a class="idref" href="RIS.tools.html#n"><span class="id" title="variable">n</span></a>?</span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="pointer"><span class="id" title="inductive">pointer</span></a> := <a name="free"><span class="id" title="constructor">free</span></a> : <a class="idref" href="RIS.representative.html#pointers.atom"><span class="id" title="variable">atom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a> | <a name="bound"><span class="id" title="constructor">bound</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">&quot;</span></a> a ! " := (<a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> <span class="id" title="var">a</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="ca26ea98ba0dfaea8a177be36586f649"><span class="id" title="notation">&quot;</span></a> a ? " := (<a class="idref" href="RIS.representative.html#bound"><span class="id" title="constructor">bound</span></a> <span class="id" title="var">a</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>

<br/>
</div>

<div class="doc">
Pointers can be treated as atoms. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="5754fb4bffa6f27d56a47102cb7ffc62"><span class="id" title="instance">𝐏</span></a> : <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a>.<br/>

<br/>
</div>

<div class="doc">
As any constructor, the function <span class="inlinecode"><a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a></span> is injective. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="injective_free"><span class="id" title="instance">injective_free</span></a> : <a class="idref" href="RIS.tools.html#injective"><span class="id" title="class">injective</span></a> <a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
The set of pointers is nominal in <span class="inlinecode"><a class="idref" href="RIS.atoms.html#atom"><span class="id" title="variable">atom</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="act_pointer"><span class="id" title="instance">act_pointer</span></a> : <a class="idref" href="RIS.atoms.html#Action"><span class="id" title="class">Action</span></a> <a class="idref" href="RIS.representative.html#1856b170ceab3f4b78ea69757a88ec53"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="RIS.representative.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">a</span><a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">!</span></a> ⇒ <a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><span class="id" title="var">a</span><a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">)!</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="RIS.representative.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="support_pointer"><span class="id" title="instance">support_pointer</span></a> : <a class="idref" href="RIS.atoms.html#Support"><span class="id" title="class">Support</span></a> <a class="idref" href="RIS.representative.html#1856b170ceab3f4b78ea69757a88ec53"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="RIS.representative.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">a</span><a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">!</span></a> ⇒ <a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a><span class="id" title="var">a</span><a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="groupAct_pointer"><span class="id" title="instance">groupAct_pointer</span></a> : <a class="idref" href="RIS.atoms.html#Nominal"><span class="id" title="class">Nominal</span></a> <a class="idref" href="RIS.representative.html#1856b170ceab3f4b78ea69757a88ec53"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">&quot;</span></a> ⦅ π ⦆ " := (<a class="idref" href="RIS.representative.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> π).<br/>

<br/>
</div>

<div class="doc">
Notice that applying a lifted permutation <span class="inlinecode">⦅<a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a>⦆</span> to a free name is the same as applying <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a></span> to that name, and applying it to a bound number leaves it unchanged. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="act_free"><span class="id" title="lemma">act_free</span></a> (π : @<a class="idref" href="RIS.atoms.html#perm"><span class="id" title="definition">perm</span></a> <span class="id" title="var">_</span> <a class="idref" href="RIS.representative.html#1856b170ceab3f4b78ea69757a88ec53"><span class="id" title="variable">𝐀</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="RIS.representative.html#pointers.atom"><span class="id" title="variable">atom</span></a>) :  <a class="idref" href="RIS.representative.html#a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.representative.html#a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">⦆</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">!</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="RIS.representative.html#a008864e401a9f0431fdfc862eb700e0"><span class="id" title="notation">)!</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="act_bound"><span class="id" title="lemma">act_bound</span></a> π <span class="id" title="var">n</span> : <a class="idref" href="RIS.representative.html#a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.representative.html#a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">⦆</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="RIS.representative.html#ca26ea98ba0dfaea8a177be36586f649"><span class="id" title="notation">?</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="RIS.representative.html#ca26ea98ba0dfaea8a177be36586f649"><span class="id" title="notation">?</span></a>.<br/>

<br/>
</div>

<div class="doc">
Furthermore, the action of <span class="inlinecode">⦅π⦆</span> on any pointer <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a></span> coincide with the action of <span class="inlinecode">π</span> on <span class="inlinecode"><a class="idref" href="RIS.tools.html#p"><span class="id" title="variable">p</span></a></span>. The first action comes from the nominal structure <span class="inlinecode"><span class="id" title="var">RIS.atoms.Nominal_Atom</span></span> <span class="inlinecode"><a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a></span>, while the second is an instance of <span class="inlinecode"><a class="idref" href="RIS.representative.html#groupAct_pointer"><span class="id" title="instance">groupAct_pointer</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="lift_perm_invisible"><span class="id" title="lemma">lift_perm_invisible</span></a> π (<span class="id" title="var">p</span> : <a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a>) :  <a class="idref" href="RIS.representative.html#a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.representative.html#a3ce4123bec2cc1996ea8ebb4072ca33"><span class="id" title="notation">⦆</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a> <a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a> <a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RIS.representative.html#pointers"><span class="id" title="section">pointers</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab109"></a><h1 class="section">The function <span class="inlinecode"><a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a></span></h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="s"><span class="id" title="section">s</span></a>.<br/>
</div>

<div class="doc">
We again fix a set of atoms and an alphabet. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">atom</span> <span class="id" title="var">X</span>: <span class="id" title="keyword">Set</span>}{𝐀 : <a class="idref" href="RIS.atoms.html#Atom"><span class="id" title="class">Atom</span></a> <a class="idref" href="RIS.representative.html#atom"><span class="id" title="variable">atom</span></a>} {𝐗 : <a class="idref" href="RIS.words.html#Alphabet"><span class="id" title="class">Alphabet</span></a> <a class="idref" href="RIS.representative.html#8641701fafbb6d109185a381b5830e92"><span class="id" title="variable">𝐀</span></a> <a class="idref" href="RIS.representative.html#X"><span class="id" title="variable">X</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="89213001863dbfc0a2687c9afec1eb93"><span class="id" title="notation">&quot;</span></a> a ! " := (<a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> <span class="id" title="var">a</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="8c7f2b6e89ab69e0e502c2cb6745e1f2"><span class="id" title="notation">&quot;</span></a> a ? " := (@<a class="idref" href="RIS.representative.html#bound"><span class="id" title="constructor">bound</span></a> <a class="idref" href="RIS.representative.html#s.atom"><span class="id" title="variable">atom</span></a> <span class="id" title="var">a</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="672c717b5ddb70970f633071952b6c6c"><span class="id" title="notation">&quot;</span></a> ⦅ p ⦆ " := (<a class="idref" href="RIS.representative.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> <span class="id" title="var">p</span>).<br/>

<br/>
</div>

<div class="doc">
We now proceed to map elements from <span class="inlinecode"><a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span> to elements of a nominal setoid over <span class="inlinecode"><a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a></span>, namely the set <span class="inlinecode"><a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a></span> built out of pairs of an element from <span class="inlinecode"><a class="idref" href="RIS.tools.html#X"><span class="id" title="variable">X</span></a></span>, considered up-to <span class="inlinecode"><a class="idref" href="RIS.representative.html#same_orbit"><span class="id" title="definition">same_orbit</span></a></span>, and an orbit over <span class="inlinecode"><a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a></span>, considered up-to <span class="inlinecode">≃</span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Repr"><span class="id" title="definition">Repr</span></a> : <span class="id" title="keyword">Set</span> :=  <a class="idref" href="RIS.representative.html#s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#orbit"><span class="id" title="definition">orbit</span></a> <a class="idref" href="RIS.representative.html#5754fb4bffa6f27d56a47102cb7ffc62"><span class="id" title="instance">𝐏</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="eqRepr"><span class="id" title="instance">eqRepr</span></a> : <a class="idref" href="RIS.tools.html#SemEquiv"><span class="id" title="class">SemEquiv</span></a> <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#same_orbit"><span class="id" title="definition">same_orbit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#r1"><span class="id" title="variable">r1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#r2"><span class="id" title="variable">r2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#r1"><span class="id" title="variable">r1</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#r2"><span class="id" title="variable">r2</span></a>.<br/>

<br/>
</div>

<div class="doc">
The equivalence of representatives is decidable. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="eqReprb"><span class="id" title="definition">eqReprb</span></a> : <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span> ⇒ <a class="idref" href="RIS.representative.html#same_orbitb"><span class="id" title="definition">same_orbitb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#r1"><span class="id" title="variable">r1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#r2"><span class="id" title="variable">r2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="RIS.representative.html#equiv_orbitsb"><span class="id" title="definition">equiv_orbitsb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#r1"><span class="id" title="variable">r1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#r2"><span class="id" title="variable">r2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eqReprb_spec"><span class="id" title="lemma">eqReprb_spec</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="RIS.representative.html#eqReprb"><span class="id" title="definition">eqReprb</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a></span> is a nominal setoid over <span class="inlinecode"><a class="idref" href="RIS.representative.html#pointer"><span class="id" title="inductive">pointer</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ActRepr"><span class="id" title="instance">ActRepr</span></a> : <a class="idref" href="RIS.nominalsetoid.html#ActionSetoid"><span class="id" title="class">ActionSetoid</span></a> <span class="id" title="var">_</span> <a class="idref" href="RIS.representative.html#5754fb4bffa6f27d56a47102cb7ffc62"><span class="id" title="instance">𝐏</span></a> <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> π <span class="id" title="var">r</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="RIS.representative.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="RIS.representative.html#31bf0b12546409e15021243132fc7574"><span class="id" title="variable">π</span></a><a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">⊙</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="SuppRepr"><span class="id" title="instance">SuppRepr</span></a> : <a class="idref" href="RIS.nominalsetoid.html#SupportSetoid"><span class="id" title="class">SupportSetoid</span></a> <span class="id" title="var">_</span> <a class="idref" href="RIS.representative.html#5754fb4bffa6f27d56a47102cb7ffc62"><span class="id" title="instance">𝐏</span></a> <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="RIS.representative.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="NomSetRepr"><span class="id" title="instance">NomSetRepr</span></a> : <a class="idref" href="RIS.nominalsetoid.html#NominalSetoid"><span class="id" title="class">NominalSetoid</span></a> <a class="idref" href="RIS.representative.html#5754fb4bffa6f27d56a47102cb7ffc62"><span class="id" title="instance">𝐏</span></a> <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a>.<br/>

<br/>
</div>

<div class="doc">
The function <span class="inlinecode"><a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a></span> maps <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> to the pair <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>,<a class="idref" href="RIS.completenessKA.html#inject"><span class="id" title="definition">inject</span></a></span> <span class="inlinecode"><a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a></span> <span class="inlinecode">(<a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a></span> <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a>)</span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> : <a class="idref" href="RIS.representative.html#s.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#Repr"><span class="id" title="definition">Repr</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="RIS.representative.html#inject"><span class="id" title="definition">inject</span></a> <a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> (<a class="idref" href="RIS.representative.html#orbitX"><span class="id" title="definition">orbitX</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
It is injective up-to <span class="inlinecode">≃</span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="d4b5e0151ebd8211c7ea4a3ecba4ca0f"><span class="id" title="lemma">η_inj</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="RIS.representative.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a></span> is equivariant. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="192d492556a08a57808dc4bbff49f7b1"><span class="id" title="lemma">η_equivariant</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span>, <a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> (<a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="RIS.atoms.html#4957144be6046256f2cd37cd97a446fc"><span class="id" title="notation">∙</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="RIS.tools.html#63510515077225ba3be50ed1e1ec3cec"><span class="id" title="notation">≃</span></a> <a class="idref" href="RIS.representative.html#672c717b5ddb70970f633071952b6c6c"><span class="id" title="notation">⦅</span></a><a class="idref" href="RIS.representative.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="RIS.representative.html#672c717b5ddb70970f633071952b6c6c"><span class="id" title="notation">⦆</span></a><a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">⊙(</span></a><a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.nominalsetoid.html#07511cc7b4449ee9480d9ba5e0461640"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
The support of <span class="inlinecode"><a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a></span> <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span> is the set of <span class="inlinecode"><a class="idref" href="RIS.tools.html#a"><span class="id" title="variable">a</span></a>!</span> such that <span class="inlinecode"><a class="idref" href="RIS.tools.html#a"><span class="id" title="variable">a</span></a></span> is in the support of <span class="inlinecode"><a class="idref" href="RIS.tools.html#x"><span class="id" title="variable">x</span></a></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ac08301bfab0f03fb4fa5fb7a16df3de"><span class="id" title="lemma">η_support</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌈</span></a><a class="idref" href="RIS.representative.html#6f2f7304141c15bf565f34aa10b8e335"><span class="id" title="definition">η</span></a> <a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.nominalsetoid.html#f1d0c93cf3a4c2546abcd77134ca0628"><span class="id" title="notation">⌉</span></a> <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">≈</span></a> <a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.8.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> <a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌊</span></a><a class="idref" href="RIS.representative.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="RIS.atoms.html#2c0a5a7a3edbd2d036ce52734d0e9f72"><span class="id" title="notation">⌋</span></a><a class="idref" href="RIS.tools.html#8a93d10600b37e2dc6f02b51aaad94b8"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="RIS.representative.html#s"><span class="id" title="section">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a name="56d09e85d5bc14580fb437962aa52c90"><span class="id" title="notation">&quot;</span></a> ⦅ p ⦆ " := (<a class="idref" href="RIS.representative.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> <span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Notation</span> <a name="2e0d44e249a2f6dafd473fd5221f51ad"><span class="id" title="notation">&quot;</span></a> a ! " := (<a class="idref" href="RIS.representative.html#free"><span class="id" title="constructor">free</span></a> <span class="id" title="var">a</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>